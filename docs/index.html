<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YASMIN - Yet Another State MachINe</title>
    <link rel="stylesheet" href="style.css" />
    <script src="sidebar.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
    <script src="dark_mode.js"></script>
  </head>
  <body>
    <header>
      <a href="index.html" class="logo">
        <img src="logo.png" alt="YASMIN Logo" />
        YASMIN
      </a>
      <div class="nav-links">
        <a href="index.html">Docs</a>
        <a href="https://github.com/uleroboticsgroup/yasmin" target="_blank"
          >GitHub</a
        >
        <a href="doxygen.html" target="_blank">Doxygen</a>
        <button id="theme-toggle" title="Toggle Dark Mode">ðŸŒ™</button>
      </div>
    </header>

    <div class="container">
            <nav class="sidebar">
        <h3>Getting Started</h3>
        <ul>
          <li><a href="index.html">Introduction</a></li>
          <li><a href="docker.html">Docker Environment</a></li>
          <li><a href="main_concepts.html">Main Concepts</a></li>
          <li><a href="xml_factory.html">XML State Machines</a></li>
          <li><a href="packages.html">Packages Overview</a></li>
        </ul>

        <h3>Tutorials</h3>
        <ul>
          <li><a href="tutorials.html">All Tutorials</a></li>
        </ul>

        <h3 class="collapsible">C++ Tutorials</h3>
        <ul>
          <li class="tutorial-level">Beginner
            <ul>
              <li><a href="tutorials/cpp/basic_fsm.html">Writing a Simple FSM</a></li>
              <li><a href="tutorials/cpp/remap_demo.html">Blackboard Remapping</a></li>
              <li><a href="tutorials/cpp/concurrence_demo.html">Concurrence</a></li>
            </ul>
          </li>
          <li class="tutorial-level">Intermediate
            <ul>
              <li><a href="tutorials/cpp/publisher_demo.html">Publisher</a></li>
              <li><a href="tutorials/cpp/monitor_demo.html">Monitor</a></li>
              <li><a href="tutorials/cpp/service_client_demo.html">Service Client</a></li>
              <li><a href="tutorials/cpp/action_client_demo.html">Action Client</a></li>
              <li><a href="tutorials/cpp/parameters_demo.html">ROS Parameters</a></li>
            </ul>
          </li>
          <li class="tutorial-level">Advanced
            <ul>
              <li><a href="tutorials/cpp/nav2_demo.html">Nav2 Demo</a></li>
              <li><a href="tutorials/cpp/factory_demo.html">Factory (XML)</a></li>
            </ul>
          </li>
        </ul>

        <h3 class="collapsible">Python Tutorials</h3>
        <ul>
          <li class="tutorial-level">Beginner
            <ul>
              <li><a href="tutorials/python/basic_fsm.html">Writing a Simple FSM</a></li>
              <li><a href="tutorials/python/remap_demo.html">Blackboard Remapping</a></li>
              <li><a href="tutorials/python/concurrence_demo.html">Concurrence</a></li>
            </ul>
          </li>
          <li class="tutorial-level">Intermediate
            <ul>
              <li><a href="tutorials/python/publisher_demo.html">Publisher</a></li>
              <li><a href="tutorials/python/monitor_demo.html">Monitor</a></li>
              <li><a href="tutorials/python/service_client_demo.html">Service Client</a></li>
              <li><a href="tutorials/python/action_client_demo.html">Action Client</a></li>
              <li><a href="tutorials/python/parameters_demo.html">ROS Parameters</a></li>
            </ul>
          </li>
          <li class="tutorial-level">Advanced
            <ul>
              <li><a href="tutorials/python/nav2_demo.html">Nav2 Demo</a></li>
              <li><a href="tutorials/python/factory_demo.html">Factory (XML)</a></li>
            </ul>
          </li>
        </ul>

        <h3>Tools</h3>
        <ul>
          <li><a href="yasmin_editor.html">YASMIN Editor</a></li>
          <li><a href="yasmin_factory.html">YASMIN Factory</a></li>
          <li><a href="yasmin_viewer.html">YASMIN Viewer</a></li>
        </ul>

        <h3>Resources</h3>
        <ul>
          <li><a href="citations.html">Citations</a></li>
        </ul>
      </nav>

      <main class="main-content content">
        <h1>Introduction to YASMIN</h1>

        <p>
          <strong>YASMIN</strong> (Yet Another State MachINe) is a project
          focused on implementing robot behaviors using Finite State Machines
          (FSM). It is available for ROS 2, Python and C++.
        </p>

        <p>
          YASMIN simplifies the development of complex robot behaviors by
          providing an intuitive framework for defining states, transitions, and
          hierarchical state machines. Whether you're building navigation
          systems, manipulation tasks, or multi-robot coordination, YASMIN
          offers the tools and flexibility to model your robot's behavior
          effectively. With built-in support for ROS 2 actions, services, and
          topics, YASMIN bridges the gap between high-level behavior
          specification and low-level robot control, enabling rapid prototyping
          and deployment of sophisticated robotic applications.
        </p>

        <h2>Example State Machine</h2>
        <p>
          The following diagram shows a navigation state machine example
          implemented with YASMIN. This demonstrates how different states can be
          combined to create complex robot behavior with multiple possible outcomes:
        </p>

        <div style="text-align: center; margin: 20px 0">
          <img
            src="basic_fsm.png"
            alt="Basic FSM Example - Navigation State Machine"
            style="max-width: 100%; height: auto; border-radius: 8px"
          />
        </div>

        <h3>States Description</h3>
        <ul>
          <li>
            <strong>GET_INITIAL_DATA (XML):</strong> The initial state that
            reads configuration data from an XML file. It can transition to
            ORDER_LOCATION on success, or end with <code>aborted</code> on failure.
          </li>
          <li>
            <strong>ORDER_LOCATION (C++):</strong> Processes and orders the
            target locations. After ordering, it transitions to NEXT_LOCATION.
          </li>
          <li>
            <strong>NEXT_LOCATION (C++):</strong> Retrieves the next waypoint
            from the list of locations. If there are more locations, it
            transitions to NAVIGATING with <code>next</code>. If all locations
            have been visited, it ends with <code>succeeded</code>.
          </li>
          <li>
            <strong>NAVIGATING (C++):</strong> Executes the navigation to the
            current target location. On success, it returns to NEXT_LOCATION.
            It can also end with <code>aborted</code> or <code>canceled</code>.
          </li>
        </ul>

        <h3>Transitions</h3>
        <p>The state machine follows this flow:</p>
        <ol>
          <li>
            Start â†’ <strong>GET_INITIAL_DATA</strong>: Machine begins by
            loading initial configuration from XML.
          </li>
          <li>
            GET_INITIAL_DATA â†’ <strong>ORDER_LOCATION</strong> (<code>succeeded</code>):
            Configuration loaded successfully.
          </li>
          <li>
            ORDER_LOCATION â†’ <strong>NEXT_LOCATION</strong> (<code>succeeded</code>):
            Locations have been ordered.
          </li>
          <li>
            NEXT_LOCATION â†’ <strong>NAVIGATING</strong> (<code>next</code>):
            A new location is available to navigate to.
          </li>
          <li>
            NAVIGATING â†’ <strong>NEXT_LOCATION</strong> (<code>succeeded</code>):
            Navigation completed, get next location.
          </li>
          <li>
            NEXT_LOCATION â†’ <strong>End</strong> (<code>end</code>): All locations
            visited, mission complete with <code>succeeded</code>.
          </li>
        </ol>

        <p>
          <em>This example showcases how YASMIN allows combining states written
            in different languages (XML configuration, C++ processing) within
            the same state machine, providing flexibility in implementation.</em>
        </p>

        <h2>Features</h2>
        <ul>
          <li>
            <strong>ROS 2 Integration:</strong> Integrates with ROS 2 for easy
            deployment.
          </li>
          <li>
            <strong>Multi-Language Support:</strong> Available for both Python
            and C++.
          </li>
          <li>
            <strong>Rapid Prototyping:</strong> Designed for fast iteration of
            behaviors.
          </li>
          <li>
            <strong>Predefined States:</strong> Includes states for ROS 2
            actions, services, and topics.
          </li>
          <li>
            <strong>Web Viewer:</strong> Integrated web viewer for real-time
            monitoring.
          </li>
          <li>
            <strong>XML:</strong> Load and create state machines from XML files.
          </li>
        </ul>

        <h2>ROS 2 Integration</h2>

        <p>
          <em
            >Note: The following examples are shown in Python. All features are
            also available in C++. See the
            <a href="tutorials.html">tutorials section</a> for examples in both
            languages.</em
          >
        </p>

        <h3>Action States</h3>
        <p>
          <code>ActionState</code> encapsulates ROS 2 action client operations
          within a state machine. It manages goal creation, feedback processing,
          and result handling with built-in timeout and retry mechanisms.
        </p>
        <pre><code>from yasmin_ros import ActionState
from example_interfaces.action import Fibonacci

# Create an action state
action_state = ActionState(
    Fibonacci,
    "/fibonacci",
    create_goal_handler=lambda blackboard: Fibonacci.Goal(order=5),
    outcomes={"succeeded", "aborted", "canceled"}
)</code></pre>

        <h3>Service States</h3>
        <p>
          <code>ServiceState</code> manages communication with ROS 2 services,
          handling request creation and response processing:
        </p>
        <pre><code>from yasmin_ros import ServiceState
from example_interfaces.srv import AddTwoInts

# Create a service state
service_state = ServiceState(
    AddTwoInts,
    "/add_two_ints",
    create_request_handler=lambda blackboard: AddTwoInts.Request(a=3, b=5),
    outcomes={"succeeded", "aborted"}
)</code></pre>

        <h3>Monitor States</h3>
        <p>
          <code>MonitorState</code> subscribes to ROS 2 topics and processes
          incoming messages, useful for behavior triggered by sensor data or
          events:
        </p>
        <pre><code>from yasmin_ros import MonitorState
from std_msgs.msg import String

# Create a monitor state
monitor_state = MonitorState(
    String,
    "/topic",
    outcomes={"valid", "invalid"},
    monitor_handler=lambda blackboard, msg: "valid" if msg.data else "invalid"
)</code></pre>

        <h3>Publisher States</h3>
        <p>
          <code>PublisherState</code> publishes messages to ROS 2 topics as part
          of state machine execution:
        </p>
        <pre><code>from yasmin_ros import PublisherState
from std_msgs.msg import String

publisher_state = PublisherState(
    String,
    "/topic",
    message_handler=lambda blackboard: String(data="Hello")
)</code></pre>

        <h2>Distributions & Support</h2>
        <p>
          YASMIN supports multiple ROS 2 distributions. Check the table below
          for compatibility:
        </p>

        <div style="display: flex; justify-content: center; margin: 20px 0">
          <table>
            <thead>
              <tr>
                <th style="text-align: center">ROS 2 Distro</th>
                <th style="text-align: center">Build and Test</th>
                <th style="text-align: center">Docker Image</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="text-align: center">Foxy</td>
                <td style="text-align: center">
                  <a
                    href="https://github.com/uleroboticsgroup/yasmin/actions/workflows/foxy-build-test.yml?branch=main"
                    ><img
                      src="https://github.com/uleroboticsgroup/yasmin/actions/workflows/foxy-build-test.yml/badge.svg?branch=main"
                      alt="Foxy Build"
                  /></a>
                </td>
                <td style="text-align: center">
                  <a href="https://hub.docker.com/r/mgons/yasmin/tags?name=foxy"
                    ><img
                      src="https://img.shields.io/badge/docker-foxy-blue?logo=docker"
                      alt="Docker Image"
                  /></a>
                </td>
              </tr>
              <tr>
                <td style="text-align: center">Galactic</td>
                <td style="text-align: center">
                  <a
                    href="https://github.com/uleroboticsgroup/yasmin/actions/workflows/galactic-build-test.yml?branch=main"
                    ><img
                      src="https://github.com/uleroboticsgroup/yasmin/actions/workflows/galactic-build-test.yml/badge.svg?branch=main"
                      alt="Galactic Build"
                  /></a>
                </td>
                <td style="text-align: center">
                  <a
                    href="https://hub.docker.com/r/mgons/yasmin/tags?name=galactic"
                    ><img
                      src="https://img.shields.io/badge/docker-galactic-blue?logo=docker"
                      alt="Docker Image"
                  /></a>
                </td>
              </tr>
              <tr>
                <td style="text-align: center">Humble</td>
                <td style="text-align: center">
                  <a
                    href="https://github.com/uleroboticsgroup/yasmin/actions/workflows/humble-build-test.yml?branch=main"
                    ><img
                      src="https://github.com/uleroboticsgroup/yasmin/actions/workflows/humble-build-test.yml/badge.svg?branch=main"
                      alt="Humble Build"
                  /></a>
                </td>
                <td style="text-align: center">
                  <a
                    href="https://hub.docker.com/r/mgons/yasmin/tags?name=humble"
                    ><img
                      src="https://img.shields.io/badge/docker-humble-blue?logo=docker"
                      alt="Docker Image"
                  /></a>
                </td>
              </tr>
              <tr>
                <td style="text-align: center">Iron</td>
                <td style="text-align: center">
                  <a
                    href="https://github.com/uleroboticsgroup/yasmin/actions/workflows/iron-build-test.yml?branch=main"
                    ><img
                      src="https://github.com/uleroboticsgroup/yasmin/actions/workflows/iron-build-test.yml/badge.svg?branch=main"
                      alt="Iron Build"
                  /></a>
                </td>
                <td style="text-align: center">
                  <a href="https://hub.docker.com/r/mgons/yasmin/tags?name=iron"
                    ><img
                      src="https://img.shields.io/badge/docker-iron-blue?logo=docker"
                      alt="Docker Image"
                  /></a>
                </td>
              </tr>
              <tr>
                <td style="text-align: center">Jazzy</td>
                <td style="text-align: center">
                  <a
                    href="https://github.com/uleroboticsgroup/yasmin/actions/workflows/jazzy-build-test.yml?branch=main"
                    ><img
                      src="https://github.com/uleroboticsgroup/yasmin/actions/workflows/jazzy-build-test.yml/badge.svg?branch=main"
                      alt="Jazzy Build"
                  /></a>
                </td>
                <td style="text-align: center">
                  <a
                    href="https://hub.docker.com/r/mgons/yasmin/tags?name=jazzy"
                    ><img
                      src="https://img.shields.io/badge/docker-jazzy-blue?logo=docker"
                      alt="Docker Image"
                  /></a>
                </td>
              </tr>
              <tr>
                <td style="text-align: center">Kilted</td>
                <td style="text-align: center">
                  <a
                    href="https://github.com/uleroboticsgroup/yasmin/actions/workflows/kilted-build-test.yml?branch=main"
                    ><img
                      src="https://github.com/uleroboticsgroup/yasmin/actions/workflows/kilted-build-test.yml/badge.svg?branch=main"
                      alt="Kilted Build"
                  /></a>
                </td>
                <td style="text-align: center">
                  <a
                    href="https://hub.docker.com/r/mgons/yasmin/tags?name=kilted"
                    ><img
                      src="https://img.shields.io/badge/docker-kilted-blue?logo=docker"
                      alt="Docker Image"
                  /></a>
                </td>
              </tr>
              <tr>
                <td style="text-align: center">Rolling</td>
                <td style="text-align: center">
                  <a
                    href="https://github.com/uleroboticsgroup/yasmin/actions/workflows/rolling-build-test.yml?branch=main"
                    ><img
                      src="https://github.com/uleroboticsgroup/yasmin/actions/workflows/rolling-build-test.yml/badge.svg?branch=main"
                      alt="Rolling Build"
                  /></a>
                </td>
                <td style="text-align: center">
                  <a
                    href="https://hub.docker.com/r/mgons/yasmin/tags?name=rolling"
                    ><img
                      src="https://img.shields.io/badge/docker-rolling-blue?logo=docker"
                      alt="Docker Image"
                  /></a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <h2>Installation</h2>

        <h3>Debian Packages</h3>
        <p>
          Install YASMIN and all its packages directly from the ROS package
          repository. Replace <code>$ROS_DISTRO</code> with your ROS 2
          distribution (e.g., humble, iron, jazzy):
        </p>
        <pre><code>sudo apt install ros-$ROS_DISTRO-yasmin ros-$ROS_DISTRO-yasmin-*</code></pre>

        <h3>Building from Source</h3>
        <p>
          For the latest features or to contribute to development, build YASMIN
          from source. This method clones the repository into your ROS 2
          workspace, installs dependencies, and compiles the packages:
        </p>
        <pre><code>cd ~/ros2_ws/src
git clone https://github.com/uleroboticsgroup/yasmin.git
cd ~/ros2_ws
rosdep install --from-paths src --ignore-src -r -y
colcon build</code></pre>

        <p>After building, source your workspace to make YASMIN available:</p>
        <pre><code>source ~/ros2_ws/install/setup.bash</code></pre>
      </main>
    </div>

    <footer>
      <p>
        &copy; 2025 YASMIN Project. Licensed under GPL v3.0. | Documentation
        generated with <a href="doxygen.html" target="_blank">Doxygen</a>
      </p>
    </footer>
  </body>
</html>
